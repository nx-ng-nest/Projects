<!-- Templates -->

<!-- Basic form field template -->
<ng-template
  #formField
  let-attributes="attributes"
  let-label="label"
  let-icon="icon"
>
  <mat-form-field appearance="outline">
    <mat-label>{{ label }}</mat-label>
    <input matInput [setAttributes]="attributes" />
    <mat-icon matPrefix color="primary">{{ icon }}</mat-icon>
  </mat-form-field>
</ng-template>

<!-- Navigation Link Template-->
<ng-template #navLink let-label="label" let-href="href" let-id="id">
  <a [id]="id" [href]="href">{{ label }}</a>
</ng-template>

<!-- Content -->
<div class="container">
  <nav>
    <ng-container *ngFor="let i of navItems">
      <ng-container *ngTemplateOutlet="navLink; context: i"></ng-container>
    </ng-container>
  </nav>

  <!-- Login Section -->
  <div class="content">
    <section>
      <form [formGroup]="loginForm" name="loginForm" ngNativeValidate>
        <fieldset class="col gap-x pad-x" autocomple="off">
          <legend>Login</legend>
          <ng-container *ngFor="let i of loginFields">
            <form-field [context]="i"> </form-field>
          </ng-container>

          <button
            type="submit"
            mat-raised-button
            color="primary"
            (click)="submit()"
            [disabled]="loginForm.untouched ? true : loginForm.invalid"
          >
            Login
          </button>
        </fieldset>
      </form>
    </section>
  </div>
</div>
